<app-home-banner></app-home-banner>

<div class="new-container">

  <section style="margin-bottom: 40px;" class="new-cat">
    <div class="text-center main-div" (mouseleave)="hideMenu = true">
      <div class="row row-cols-2 row-cols-xl-6 row-cols-lg-4 row-cols-md-3 g-2 g-lg-3 main-div-row">
        <div class="col my-2" *ngFor="let category of categories" (mouseenter)="setCategoryMenu(category)">
          <div class="cat-card-div">
            <img src="{{ fileUrl }}{{ category.icon }}" class="img-fluid" alt="...">
            <div class="new-cat-name">{{ category.name }}</div>
          </div>
        </div>
      </div>
      <div class="row second-main-div-row">
        <div class="col my-2">
          <div class="view-all-cat" (click)="viewAllCategories()">View all Categories</div>
        </div>
      </div>
      <div class="subcategory-dropdown" *ngIf="categoryMenu && hideMenu == false">
        <div class="row subcategory-dropdown-row">
          <div class="col-lg-2 subcategory-dropdown-col" *ngFor="let menu of categoryMenu.subcategories">
            <h3 class="menu-name" (click)="categoryList()">{{ menu.name }}</h3>
            <div class="sub-subcategory-list">
              <ul>
                <li *ngFor="let submenu of menu.Subsubcategories" class="submenu-name"
                  (click)="subSubCategory(submenu.id)">
                  {{ submenu.name }}
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section style="margin-bottom: 40px;">
    <div class="requirement-container">
      <div class="row row-cols-1 row-cols-lg-2 g-2 g-lg-3 align-items-center">
        <div class="col p-0 m-0 text-center">
          <div class="requirement-header-div">
            <div class="requirement-header">
              <h1>Trade Smarter, Your Gateway to Business Success</h1>
            </div>
            <div class="join-now-btn">
              <button class="btn" (click)="openEnquiryFormWithoutProduct()">Join Free</button>
            </div>
          </div>
        </div>
        <div class="col requirement-form-col">
          <div class="requirement-form-div">
            <form class="requirement-form" (ngSubmit)="sendEnquiry(sendEnquiryForm.value)" #sendEnquiryForm="ngForm"
              id="enquiry">
              <div class="mb-3 text-center">
                <h1>Post Your Requirement</h1>
                <p>Get the best Deals and Exclusive Offers with TradeHind</p>
              </div>
              <div class="mb-3">
                <label for="inputName" class="form-label">Name</label>
                <input type="text" class="form-control" id="inputName" aria-describedby="emailHelp"
                  placeholder="Please enter your full name" name="name" ngModel required>
              </div>
              <div class="mb-3">
                <label for="inputNumber" class="form-label">Mobile Number</label>
                <input type="number" class="form-control" id="inputNumber"
                  placeholder="Please enter your contact number" name="phone" maxlength="10" ngModel
                  (keypress)="onKeyPress($event)" required>
              </div>
              <div class="mb-3">
                <label for="formControlTextarea" class="form-label">Tell us about your requirement</label>
                <textarea class="form-control" id="formControlTextarea" placeholder="Leave a comment here" rows="3"
                  name="requirement_text" ngModel required></textarea>
              </div>
              <div class="text-center requirement-submit-btn">
                <button type="submit" class="btn" [disabled]="!sendEnquiryForm.valid">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section style="margin-bottom: 40px;">
    <div class="recent-search-container">
      <h1 class="recent-search-heading">Recent Searches</h1>
      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-5 g-2 g-lg-3 recent-search-row">
        <div class="col recent-search-col" *ngFor="let product of homeProducts">
          <div class="recent-search-card">
            <img src="{{ fileUrl }}{{ product.primary_image }}" class="img-fluid recent-card-img"
              alt="{{ product.name }}" onerror="this.src='assets/imgs/Banner.jpg';">
            <div class="recent-card-div">
              <h1 class="recent-card-title" (click)="productDetails(product.id)">{{ product.name }}</h1>
              <button type="button" class="btn recent-card-btn" (click)="openEnquiryModal(product)">
                Send Enquiry
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

 <section style="margin-bottom: 40px;">
  <section class="section-margin dynamic-bg z-0" *ngFor="let category of footerCategories"
      [style.background]="'url(' + fileUrl + category.image + ')'">
      <div class="overlay"></div>
      <div class="row container-section z-2">
        <div class="col-lg-9 p-4">
          <div class="row mb-3">
            <div class="col-lg-4" *ngFor="let menu of category.subcategories">
              <div class="row category-box">
                <div class="col-lg-4 p-0">
                  <img src="{{ fileUrl }}{{ menu.icon }}" class="category-img" alt="..." />
                </div>
                <div class="col-lg-8">
                  <li class="subcategory">
                    <ul class="mb-1">
                      <a class="subcategory-heading" (click)="categoryById(menu.id)">{{ menu.name }}
                      </a>
                    </ul>
                    <ul *ngFor="let submenu of menu.Subsubcategories">
                      <a (click)="searchByKey(submenu.id)">{{
                        submenu.name
                        }}</a>
                    </ul>
                  </li>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3 p-0">
          <div class="category-content">
            <div class="category-item">
              <h1 class="fs-3 mb-3">{{ category.name }}</h1>
              <button (click)="viewAllCategory(category.id)">View All</button>
            </div>
          </div>
        </div>
      </div>
    </section>
 </section>

  <section style="margin-bottom: 40px;">
    <div class="recent-search-container">
      <h1 class="recent-search-heading">Our Blogs</h1>
      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-2 row-cols-xl-4 g-2 g-lg-3 recent-search-row">
        <div class="col recent-search-col" *ngFor="let blog of blogs">
          <div class="recent-search-card">
            <img src="{{ fileUrl }}{{ blog.image }}" class="img-fluid recent-card-img"
              alt="{{ blog.title | slice : 0 : 50 }}" onerror="this.src='assets/imgs/Banner.jpg';">
            <div class="recent-card-div">
              <h1 class="recent-card-title"> {{ blog.title | slice : 0 : 50 }}</h1>
              <p>{{ blog.description | slice : 0 : 50 }}</p>
              <button type="button" class="btn recent-card-btn">
                Read More
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section style="margin-bottom: 40px;">
      <img src="../../assets/imgs/top-banner.jpg" class="img-fluid" alt="...">
  </section>

</div>
