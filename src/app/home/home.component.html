<app-home-banner></app-home-banner>

<div class="new-container">

  <section class="new-cat">
    <div class="text-center main-div" (mouseleave)="hideMenu = true">
      
      <div class="row row-cols-2 row-cols-xl-6 row-cols-lg-4 row-cols-md-3 g-2 g-lg-3 main-div-row">
        <div class="col my-2" *ngFor="let category of categories" (mouseenter)="setCategoryMenu(category)">
          <div class="cat-card-div">
            <img src="{{ fileUrl }}{{ category.icon }}" class="img-fluid" alt="...">
            <div class="new-cat-name">{{ category.name }}</div>
          </div>
        </div>
      </div>

      <div class="row second-main-div-row">
        <div class="col my-2">
          <div class="view-all-cat" (click)="viewAllCategories()">View all categories</div>
        </div>
      </div>

      <div class="subcategory-dropdown" *ngIf="categoryMenu && hideMenu == false">
        <div class="row subcategory-dropdown-row">
          <div class="col-lg-2 subcategory-dropdown-col" *ngFor="let menu of categoryMenu.subcategories">
            <h3 class="menu-name" (click)="categoryList()">{{ menu.name }}</h3>
            <div class="sub-subcategory-list">
              <ul>
                <li *ngFor="let submenu of menu.Subsubcategories" class="submenu-name"
                  (click)="subSubCategory(submenu.id)">
                  {{ submenu.name }}
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

</div>


<div>
  <!-- CATEGORY LIST -->
  <!-- <div class="category-list custom-container container mt-1">
    <div class="category-container" (mouseleave)="hideMenu = true">
      <div class="row">
        <div class="col-6 col-xl-2 col-lg-3 col-md-4 category-col category-item" *ngFor="let category of categories"
          (mouseenter)="setCategoryMenu(category)">
          <div class="d-flex align-items-center">
            <img src="{{ fileUrl }}{{ category.icon }}" class="img-fluid category-icon" />
            <span class="cat-name">
              {{ category.name }}
            </span>
          </div>
        </div>
      </div>
      <div>
        <a class="view-all-btn" (click)="viewAllCategories()">View all categories</a>
      </div>
      <div class="subcategory-dropdown" *ngIf="categoryMenu && hideMenu == false">
        <div class="row">
          <div class="col-lg-2" *ngFor="let menu of categoryMenu.subcategories">
            <h1 class="menu-name" (click)="categoryList()">{{ menu.name }}</h1>
            <div class="sub-subcategory-list">
              <ul>
                <li *ngFor="let submenu of menu.Subsubcategories" class="submenu-name"
                  (click)="subSubCategory(submenu.id)">
                  {{ submenu.name }}
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> -->


  <div class="custom-container container mt-50">
    <!-- ************** REQUIREMENT SECTION *********** -->
    <div class="require-section section-margin" style="margin: 0; margin-bottom: 15px">
      <div class="row">

        <div class="col-lg-6 col-md-12 col-xs-12 col-sm-12 req-sec-left">
          <div class="req-sec-img mt-50">
            <img src="../../assets/home/partnership.png" alt="" />
          </div>
          <div class="row req-sec-heading">
            <h1>Trade Smarter, Your Gateway to Business Success</h1>
          </div>
          <div>
            <button class="register-btn" (click)="openEnquiryFormWithoutProduct()">Join Free</button>
            <img src="" alt="" />
          </div>


          <!-- <div class="">
            <p class="req-sec-p">We connect Buyers & Sellers</p>
          </div> -->
        </div>
        <div class="col-lg-1"></div>
        <div class="col-lg-5 col-md-12 col-xs-12 col-sm-12">
          <div class="req-container d-flex flex-column">
            <div class="row req-heading">
              <h2>Post Your Requirement</h2>
              <p>Get the best Deals and Exclusive Offers with TradeHind</p>
            </div>
            <br />
            <br />
            <form class="d-flex flex-column form-row" (ngSubmit)="sendEnquiry(sendEnquiryForm.value)"
              #sendEnquiryForm="ngForm" id="enquiry">
              <div class="form-group col-md-12">
                <label for="inputName" class="mb-5">Name</label>
                <input type="text" class="form-control" id="inputText" placeholder="Please enter your full name"
                  name="name" ngModel required />
              </div>
              <div class="form-group col-md-12">
                <label for="inputMobile" class="mb-5">Mobile Number</label>
                <input type="tel" class="form-control" id="inputMobile" placeholder="Mobile Number" name="phone"
                  maxlength="10" ngModel (keypress)="onKeyPress($event)" required />
              </div>
              <div class="form-group col-md-12">
                <label for="inputMobile" class="mb-5">Tell us about your requirement</label>
                <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea2"
                  style="height: 100px" name="requirement_text" ngModel required></textarea>
              </div>
              <div class="form-group text-center col-md-12">
                <button class="register-btn" type="submit" [disabled]="!sendEnquiryForm.valid">
                  Submit
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- *****************  PRODUCT SECTION ************** -->
    <section style="background-color: #eee" class="section-margin">
      <div class="container py-5 text-center">
        <h2 class="sec-heading">Recent Searches</h2>
        <div class="row">
          <div style="padding: 0" class="card text-black text-center col-lg-2" *ngFor="let product of homeProducts">
            <img src="{{ fileUrl }}{{ product.primary_image }}" class="card-img-top" alt="{{ product.name }}" style="
                align-self: center;
                padding: 0px;
                height: 200px;
                width: 100%;
                object-fit: cover;
              " onerror="this.src='assets/imgs/Banner.jpg';" />
            <div class="card-body">
              <div class="text-center">
                <h5 class="card-title" style="cursor: pointer;" (click)="productDetails(product.id)">{{ product.name }}
                </h5>
                <a class="btn btn-danger enquiry-btn" (click)="openEnquiryModal(product)">Send Enquiry</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- *********** CATEGORY LIST SECTION CLOTHING ******************** -->
    <section class="section-margin dynamic-bg z-0" *ngFor="let category of footerCategories"
      [style.background]="'url(' + fileUrl + category.image + ')'">
      <div class="overlay"></div>
      <div class="row container-section z-2">
        <div class="col-lg-9 p-4">
          <div class="row mb-3">
            <div class="col-lg-4" *ngFor="let menu of category.subcategories">
              <div class="row category-box">
                <div class="col-lg-4 p-0">
                  <img src="{{ fileUrl }}{{ menu.icon }}" class="category-img" alt="..." />
                </div>
                <div class="col-lg-8">
                  <li class="subcategory">
                    <ul class="mb-1">
                      <a class="subcategory-heading" (click)="categoryById(menu.id)">{{ menu.name }}
                      </a>
                    </ul>
                    <ul *ngFor="let submenu of menu.Subsubcategories">
                      <a (click)="searchByKey(submenu.id)">{{
                        submenu.name
                        }}</a>
                    </ul>
                  </li>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3 p-0">
          <div class="category-content">
            <div class="category-item">
              <h1 class="fs-3 mb-3">{{ category.name }}</h1>
              <button (click)="categoryById(category.id)">View All</button>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- **************** BLOG SECTION ************** -->
    <div class="blog-section section-margin">
      <h1 class="sec-heading-blog">Our Blogs</h1>
      <div class="row d-flex justify-content-center">
        <div class="card text-center col-lg-3 col-md-3 col-sm-6 col-xs-12" *ngFor="let blog of blogs"
          style="width: 16rem; padding: 0px">
          <img src="{{ fileUrl }}{{ blog.image }}" class="card-img-top p-0" alt="..."
            style="height: 200px; width: 100%" />

          <div class="card-body blog-card">
            <h5 class="card-title fs-7 text-bold">
              {{ blog.title | slice : 0 : 50 }}
            </h5>
            <p class="card-text crd-txt">
              {{ blog.description | slice : 0 : 50 }}
            </p>
            <button type="button" class="btn btn-danger">Read More</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ************* OUR SERVICES SECTION ******** -->
    <section class="top-banner shadow-sm">
      <!-- <div class="col-lg-12 col-md-12 col-sm-12 col-sx-12 top-banner">
         <img src="../../assets/imgs/top-banner.jpg" alt="" srcset="" /> 
      </div> -->
      <img src="../../assets/imgs/top-banner.jpg" alt="" srcset="" />
    </section>
  </div>
</div>